# Changelog

## [0.4.0](https://github.com/soc221b/browser-find/compare/v0.3.1...v0.4.0) (2024-07-20)


### Features

* add use toggle hook ([628726a](https://github.com/soc221b/browser-find/commit/628726a5813897287f7bff1424f3512a2292630b))
* avoid collision ([2b25e70](https://github.com/soc221b/browser-find/commit/2b25e70f9f2c78ff6ac7f04df4dfec7129264432))
* createNodeWithInnerTextList - manually traverse ([e215510](https://github.com/soc221b/browser-find/commit/e21551055976357c2129ae6f0a84cf751c065730))
* find v2 - createNodeWithInnerTextList - add toto ([982b093](https://github.com/soc221b/browser-find/commit/982b093c4578d35f3034664de2c36fec60dc1cd3))
* find v2 - createNodeWithInnerTextList trim ([15db06b](https://github.com/soc221b/browser-find/commit/15db06b51a47013d2db7dcd0cf260cdca7fb50f8))
* find v2 - createRangesList ([02c1d4f](https://github.com/soc221b/browser-find/commit/02c1d4fb473a96f192dca3d2b347d801aa07bde1))
* find v2 - createRangesList ([e360e1c](https://github.com/soc221b/browser-find/commit/e360e1cd966ad36ebd7b9b8200b81ae5393de5bb))
* find v2 - createRegex ([29114a6](https://github.com/soc221b/browser-find/commit/29114a6da6423a26d1eeb7b1f173f983160bf169))
* find v2 - createSearchStringList ([b98c601](https://github.com/soc221b/browser-find/commit/b98c601c829db277e02c8d68718e03a31cb9c942))
* find v2 - createSearchStringList ([577e43f](https://github.com/soc221b/browser-find/commit/577e43f15da1b18d2e596aa052f62be3d3b7dfdf))
* find v2 - debug ([2396fa8](https://github.com/soc221b/browser-find/commit/2396fa8bc70e706717b7593165691e3521733a4a))
* find v2 - getAllNodeInnerText ([a25073b](https://github.com/soc221b/browser-find/commit/a25073b262ed089a321354ba91a0229e5b1d7c68))
* find v2 - match ([094628d](https://github.com/soc221b/browser-find/commit/094628dd40e49bbdafb6d7bb3263983e880b5143))
* find v2 - use ([3309235](https://github.com/soc221b/browser-find/commit/3309235ab5163e795c0ce7a2e981a2fe4ecb556b))
* find v3 ([db4b8a5](https://github.com/soc221b/browser-find/commit/db4b8a57023175b1fd4bfec649829eaaf9af7ca1))
* find v3 ([62b6d1c](https://github.com/soc221b/browser-find/commit/62b6d1c6ce0a5df7f82e9dc47ff2fe4adb9eb6e1))
* iframe ([f48b650](https://github.com/soc221b/browser-find/commit/f48b6506acaad844a0260c1e3ae3150593079778))
* implement ([af73714](https://github.com/soc221b/browser-find/commit/af737141b0c6023e7671238a925297f0af5d4b2b))
* initialize extension info ([a903c47](https://github.com/soc221b/browser-find/commit/a903c4773d3edba9d4c5af36e6d21f604e0627d1))
* kbd ([0bf3a76](https://github.com/soc221b/browser-find/commit/0bf3a76753eef95b5631665f6d4b2cf5b2fefbc8))
* loading ([9c955ef](https://github.com/soc221b/browser-find/commit/9c955ef555da1c5a654fb082523ec4f4bf85f9db))
* nearest ([8225865](https://github.com/soc221b/browser-find/commit/8225865842b90f62c8f84119b68707f1100d8fae))
* persist and restore some state ([36d0468](https://github.com/soc221b/browser-find/commit/36d04687ad7e712b32f1231dbda2a3292fc5cf63))
* remove unused pages ([e151f63](https://github.com/soc221b/browser-find/commit/e151f635074d1843b916021a0b285752bd62f839))
* should not block main thread to improve user experience ([6ed3140](https://github.com/soc221b/browser-find/commit/6ed31403e8e54b1db40329f47afd15255cab6606))
* text-transform ([199366d](https://github.com/soc221b/browser-find/commit/199366d353da64f6e65191324c7b6e754e41b9ac))
* update ([44709b6](https://github.com/soc221b/browser-find/commit/44709b62ef7abf35cdecc40059245b99de5cc349))
* update style ([bdbb13d](https://github.com/soc221b/browser-find/commit/bdbb13d1f216456959c7471caaf026fb107a387d))
* update style ([13e78a6](https://github.com/soc221b/browser-find/commit/13e78a6a3b03f64d7f969e9cad58325441f3f6a8))
* update style ([234621c](https://github.com/soc221b/browser-find/commit/234621cf987d259ed0c72dfa6957abd7ffb01849))
* update style ([7f897a2](https://github.com/soc221b/browser-find/commit/7f897a21600a36948f537eaf1f438113fbf3237f))
* update style ([41b7a49](https://github.com/soc221b/browser-find/commit/41b7a499095282eba07856930a87e0efa29fc4da))
* update style ([6e0536f](https://github.com/soc221b/browser-find/commit/6e0536f48eb8213f3972c26607f38ccca2023eb4))


### Bug Fixes

* `&lt;span style="text-transform: lowercase;"&gt;Σ IS A greek LETTER that appears SEVERAL TIMES IN ΟΔΥΣΣΕΥΣ.</span>` ([b3632dd](https://github.com/soc221b/browser-find/commit/b3632ddd84006572c07533665e2769a883bb0812))
* `&lt;span style="white-space: normal/nowrap/pre-line;"&gt; a</span>` ([5d507ab](https://github.com/soc221b/browser-find/commit/5d507ab24e512d7bfde9cfb07674d876ad604add))
* `&lt;span style="white-space: pre-wrap;"&gt;a\n</span>\nb` ([80bf8b3](https://github.com/soc221b/browser-find/commit/80bf8b3f42e33639ae18d5c5fbf4776310be5451))
* `&lt;span&gt;a &nbsp; b</span>` ([2cf1f9b](https://github.com/soc221b/browser-find/commit/2cf1f9beff95f77bde5e5f31d69f080b2409cd79))
* `&lt;span&gt;a </span><span> b</span>` ([6983605](https://github.com/soc221b/browser-find/commit/6983605e25418add0ffd97dfe2933603e5230ce1))
* `&lt;span&gt;a</span> <span>b</span>` ([e5c30fa](https://github.com/soc221b/browser-find/commit/e5c30fa3e7a230008db42763b47797de798838ad))
* `&lt;span&gt;a</span>\n` ([ebbd344](https://github.com/soc221b/browser-find/commit/ebbd34434e86121eedc766045057d8b19936aca4))
* `&lt;span&gt;a</span>\n<span>b</span>` ([9eca3d1](https://github.com/soc221b/browser-find/commit/9eca3d1bad18bc21edb2ef8fa978f7c9adb095f7))
* `&lt;span&gt;a</span><span> b</span>` ([b9a2556](https://github.com/soc221b/browser-find/commit/b9a25569314015981f81f0ad9027a34674c29dd5))
* `a \n \n b` ([6061f80](https://github.com/soc221b/browser-find/commit/6061f80378eb5b57b3de5f47464e97f01cd05967))
* a \n \n &lt;span&gt;b</span> ([4c056d9](https://github.com/soc221b/browser-find/commit/4c056d9eb984102433cd381dc5d20d0cca39067f))
* a\n&lt;span&gt;b</span> ([7ec4b74](https://github.com/soc221b/browser-find/commit/7ec4b74f8587253775f9231db2ddd2f2e6e4345d))
* createNodeWithInnerTextList - '\n a' ([31a5bdd](https://github.com/soc221b/browser-find/commit/31a5bddfb6966915380059fe62f1bc4908853758))
* createNodeWithInnerTextList - "a\\nb" ([98f2086](https://github.com/soc221b/browser-find/commit/98f2086dcab1fe511742f9bf5407555d750a3092))
* createNodeWithInnerTextList - &lt;span&gt;a</span> <span></span> ([c9267b5](https://github.com/soc221b/browser-find/commit/c9267b5f6eb899b77ac5397fca122ec31f19953a))
* createNodeWithInnerTextList - documentElement may have style ([0fd2764](https://github.com/soc221b/browser-find/commit/0fd276425a2cd1f4f5459eb2e25cb8911fe95197))
* createNodeWithInnerTextList - ignore browser-find itself ([4acefad](https://github.com/soc221b/browser-find/commit/4acefadbdde6a5798c808320105343b60a995db2))
* createNodeWithInnerTextList - should insert an empty node to consume space if there is no trailing space on non-last child node and next sibling is not a text node ([73ae1a7](https://github.com/soc221b/browser-find/commit/73ae1a7ce87557e2173fc845e5e50fce2398fde2))
* createNodeWithInnerTextList - should keep one trailing space if there is any for non-last child node ([edd0e52](https://github.com/soc221b/browser-find/commit/edd0e528c91d84b8df66eec385a2fa5a0dff24d9))
* createNodeWithInnerTextList - should trim leading spaces for non-first child node ([5b37ea0](https://github.com/soc221b/browser-find/commit/5b37ea03dc16150691b58a82e78d19e9c789c36b))
* createNodeWithInnerTextList - spaces ([d0e149b](https://github.com/soc221b/browser-find/commit/d0e149b66254dfb936042a52d5f1c02d53309ebe))
* createNodeWithInnerTextList - sr-only ([1599dd3](https://github.com/soc221b/browser-find/commit/1599dd30655ef84809d365de9a26435083e38e4c))
* createNodeWithInnerTextList - trim leading spaces if previous child node is br ([4f733eb](https://github.com/soc221b/browser-find/commit/4f733ebb21fb5208d4129b4bbe3393afd826ad03))
* createRangesList - "  _a_ ,_a_" ([664ee60](https://github.com/soc221b/browser-find/commit/664ee6063365cddbeff652738f5691204a7e1f38))
* createRangesList - " _a_,_a_" ([2665293](https://github.com/soc221b/browser-find/commit/2665293fdcaad0602109a6333cd5920f7eb86e8b))
* createRangesList - "a a" in "_a\\n,a_" ([ae60c44](https://github.com/soc221b/browser-find/commit/ae60c447cb8c157f9fa8e68311978bce5b1b8a0e))
* createRangesList - nodes may contain leading space ([68fe077](https://github.com/soc221b/browser-find/commit/68fe0773704bac8155e81ae7526ad22efe3f8ab7))
* createRangesList - should check node's identity ([c10777d](https://github.com/soc221b/browser-find/commit/c10777d9e75dcdbfd48ea3b92f6c5c2f47e89157))
* createRangesList - should not take spaces into account ([c559696](https://github.com/soc221b/browser-find/commit/c5596961edf3479593819920dc6a5cca3f2368e9))
* createRegex - matchAll called with a non-global RegExp ([0a5ed5a](https://github.com/soc221b/browser-find/commit/0a5ed5adc444c7ca614604cfb0bb8fe92a04a229))
* createRegex/createSearchStringList - innerText could may multiple lines ([21b8029](https://github.com/soc221b/browser-find/commit/21b80297b6afefd551b7bf25f21853a98fb96778))
* createSearchStringList - it should break if match nothing ([fadc770](https://github.com/soc221b/browser-find/commit/fadc7704f2d51801466d2fa2659ed3973868fbe6))
* delete highlights ([b8f9619](https://github.com/soc221b/browser-find/commit/b8f9619d0a2019ec80e8157066d1fadc594c4f3d))
* **deps:** update dependency @floating-ui/dom to v1.6.6 ([#26](https://github.com/soc221b/browser-find/issues/26)) ([98e4e33](https://github.com/soc221b/browser-find/commit/98e4e33fed71b5f7921fac460ff4f05ec3cda6f3))
* **deps:** update dependency @floating-ui/dom to v1.6.7 ([#34](https://github.com/soc221b/browser-find/issues/34)) ([36b1266](https://github.com/soc221b/browser-find/commit/36b12666144239c2995ca06121b4af790b3f9b33))
* **deps:** update dependency tsx to v4.15.6 ([#15](https://github.com/soc221b/browser-find/issues/15)) ([b144661](https://github.com/soc221b/browser-find/commit/b1446611aa5c5afcac29b93d5438f1087f49014e))
* **deps:** update dependency tsx to v4.15.7 ([#23](https://github.com/soc221b/browser-find/issues/23)) ([4e77ff2](https://github.com/soc221b/browser-find/commit/4e77ff205ec6bbd9c7203fed6019385ac5e1d900))
* **deps:** update dependency tsx to v4.15.8 ([#30](https://github.com/soc221b/browser-find/issues/30)) ([a31e235](https://github.com/soc221b/browser-find/commit/a31e235e4330c0868e60dd8ba71a0d57aac222ec))
* **deps:** update dependency tsx to v4.15.9 ([#31](https://github.com/soc221b/browser-find/issues/31)) ([9b5285c](https://github.com/soc221b/browser-find/commit/9b5285c90476d86c9c28f98c365f40a1ec3241bd))
* **deps:** update dependency tsx to v4.16.0 ([#32](https://github.com/soc221b/browser-find/issues/32)) ([6f2eaa2](https://github.com/soc221b/browser-find/commit/6f2eaa2d52d0640e8e323827e556599b5fefea6e))
* **deps:** update dependency tsx to v4.16.1 ([#38](https://github.com/soc221b/browser-find/issues/38)) ([53bdfb3](https://github.com/soc221b/browser-find/commit/53bdfb37be0c5d89afca079a160a6318abfb160e))
* **deps:** update dependency tsx to v4.16.2 ([#39](https://github.com/soc221b/browser-find/issues/39)) ([dd1734d](https://github.com/soc221b/browser-find/commit/dd1734deab4941ade229c6aecc5e7b0f378365be))
* **deps:** update dependency webextension-polyfill to ^0.12.0 ([#11](https://github.com/soc221b/browser-find/issues/11)) ([786827a](https://github.com/soc221b/browser-find/commit/786827a21d788a629ec7c00700b272acdb80c945))
* **deps:** update dependency zustand to v4.5.3 ([#28](https://github.com/soc221b/browser-find/issues/28)) ([352cb56](https://github.com/soc221b/browser-find/commit/352cb561c3c8838f507f1497469cfb7d697fb6e2))
* **deps:** update dependency zustand to v4.5.4 ([#29](https://github.com/soc221b/browser-find/issues/29)) ([6b42fe9](https://github.com/soc221b/browser-find/commit/6b42fe931bea9bb580741a291a9a7cf4cbf2527c))
* find v2 - createNodeWithInnerTextList ([17eb373](https://github.com/soc221b/browser-find/commit/17eb373787da799de619b95698b944dcc17d031c))
* find v2 - createRangesList ([ef7c6c0](https://github.com/soc221b/browser-find/commit/ef7c6c07cf8d0c145b07d1cbde23cff6e9b7794c))
* find v2 - createRangesList ([b84ab12](https://github.com/soc221b/browser-find/commit/b84ab12fffe40cf3bd30f816c3de1a4f820baf01))
* find v2 - createRangesList ([3683af1](https://github.com/soc221b/browser-find/commit/3683af10a145811cee7d0a434138e06a1751211a))
* find v2 - createRangesList ([ada0fa6](https://github.com/soc221b/browser-find/commit/ada0fa62ae5f9b79b7a06312e17700bdfcba9ab6))
* find v2 - createRangesList - debug ([9d7d1d1](https://github.com/soc221b/browser-find/commit/9d7d1d1a32a472f4bc75b062678a2aea5f55d315))
* find v2 - createRangesList - debug ([0c0a30a](https://github.com/soc221b/browser-find/commit/0c0a30aed0ce72e7fce6180303bbf724f9cb72cf))
* find v2 - createRangesList - debug ([547a3a6](https://github.com/soc221b/browser-find/commit/547a3a6f4b089514767b49943f940159e2a6853a))
* find v2 - createRangesList - it should reset endOffset if matched node is not the last used node ([c8e364e](https://github.com/soc221b/browser-find/commit/c8e364e30d86681e8cbe005679ce02d253f232a9))
* find v2 - createRangesList - it should skip used nodes ([c790c62](https://github.com/soc221b/browser-find/commit/c790c628579a2ab2aaba94b8b7453b2552e232e0))
* find v2 - createRangesList - match whole word should taken into account ([b37907b](https://github.com/soc221b/browser-find/commit/b37907bd2c579c9fc65035cb6176b61ba2f1e035))
* find v2 - createRangesList - spaces at the end of textContent should not be taken ([7971744](https://github.com/soc221b/browser-find/commit/797174443b2c44599eae9cd21e780892ff8f0336))
* find v2 - createRegex - ignore invalid regular expression ([ca6291d](https://github.com/soc221b/browser-find/commit/ca6291d4dbb1c3b639d396a9e0ff9541aab7d27c))
* focus on find next/previous ([c34b145](https://github.com/soc221b/browser-find/commit/c34b1457fa817f7bf98b412e47563de019785db4))
* hotkey tooltip ([8fcf6e1](https://github.com/soc221b/browser-find/commit/8fcf6e1b0b67298a7259d167f8ce85ff529d4f79))
* iframe ([e7679a4](https://github.com/soc221b/browser-find/commit/e7679a4136e331676cc9b87717f21221720e7bcc))
* ignore if text is empty ([e26c502](https://github.com/soc221b/browser-find/commit/e26c502fc41d5711b56ea9f39ab005787a6d4d9d))
* input - result should be updated after paste ([3a455a1](https://github.com/soc221b/browser-find/commit/3a455a17afb0cc6ea04231bb0bf7eb0b97621f53))
* input should trim pasted data ([120fb41](https://github.com/soc221b/browser-find/commit/120fb41f0621fd6730c190e8ede1231fa35dbdb9))
* matches may be empty ([2ce65ef](https://github.com/soc221b/browser-find/commit/2ce65ef693f4f386807c3756a0f40c634e5d307c))
* page should not shift when navigating with fragments ([#57](https://github.com/soc221b/browser-find/issues/57)) ([14feb2c](https://github.com/soc221b/browser-find/commit/14feb2c9b5f1ca2b9a8354c5b9c95bb752e858ef))
* paste single space when value is empty ([f58599f](https://github.com/soc221b/browser-find/commit/f58599fbf32612b5461a75e36c96a24146f5bdb1))
* query toolip ([7367229](https://github.com/soc221b/browser-find/commit/73672293188e42611d41b3b462ebe2e2de41f22f))
* remove debug ([154abd0](https://github.com/soc221b/browser-find/commit/154abd05d9f054224c4b193e335dcec87a7e39f3))
* remove unused popup ([72072e8](https://github.com/soc221b/browser-find/commit/72072e88e59240b80f091a2121a8be2da93fcbe1))
* result is not updated ([54f9af5](https://github.com/soc221b/browser-find/commit/54f9af561e8e1dc6f16c88052fd2ebdfb484f413))
* should not select input value when press enter / shift+enter ([9d7c523](https://github.com/soc221b/browser-find/commit/9d7c5231151705ed7d610201535694650b89a165))
* should not trigger find on hash changes ([40a6c5a](https://github.com/soc221b/browser-find/commit/40a6c5a0386206fc59b01df6d5b5816f4ec3dbb0))
* style - font-size ([3f0aaf0](https://github.com/soc221b/browser-find/commit/3f0aaf0dafa78fb77aa4f72067ab07d81968f6be))
* trap key down for better support on Notion like apps ([b66b4d6](https://github.com/soc221b/browser-find/commit/b66b4d6dccbe34063ff9e09ee83853935ee5d6dd))
* trigger finding when navigated ([0d8952c](https://github.com/soc221b/browser-find/commit/0d8952c308712eeb3c27f72555e64368fc8b626e))
* trim on paste ([53ef0ea](https://github.com/soc221b/browser-find/commit/53ef0ea97c55cf5b2d4558027f9e3847813ac014))
* typo ([#65](https://github.com/soc221b/browser-find/issues/65)) ([fe86115](https://github.com/soc221b/browser-find/commit/fe86115d91f5f43b35010b3925cb89c4e44a3223))
* white-space-collapse ([07284b1](https://github.com/soc221b/browser-find/commit/07284b116c5270113a89cadd18290f760bcc714e))


### Performance Improvements

* createNodeWithInnerTextList ([36a1df9](https://github.com/soc221b/browser-find/commit/36a1df9cc4ffe1ac1170b35a9a841bbc812cfd07))
* createRangesList ([1deea3c](https://github.com/soc221b/browser-find/commit/1deea3c9cfe582be3034a776ce019edc1da12bae))
* createRangesList - cache ([1bbc176](https://github.com/soc221b/browser-find/commit/1bbc176129083941cd515396ee3b9acd2b7c2e28))
* prevent blocking main thread ([e6e253b](https://github.com/soc221b/browser-find/commit/e6e253ba404fb7d4b95fa2fe6ac2964ececbe9e3))
* prevent render blocking ([4b48d5f](https://github.com/soc221b/browser-find/commit/4b48d5ff61a3c3d0192af48fc5ede58bb2aa4346))
* should not re-create highlights every time ([6875c32](https://github.com/soc221b/browser-find/commit/6875c32f49c11490b12a2487b50baa2c6ecf276b))

## [0.3.1](https://github.com/soc221b/browser-find/compare/v0.3.0...v0.3.1) (2024-07-11)


### Bug Fixes

* page should not shift when navigating with fragments ([#57](https://github.com/soc221b/browser-find/issues/57)) ([14feb2c](https://github.com/soc221b/browser-find/commit/14feb2c9b5f1ca2b9a8354c5b9c95bb752e858ef))

## [0.3.0](https://github.com/soc221b/browser-find/compare/v0.2.7...v0.3.0) (2024-07-06)


### Features

* avoid collision ([2b25e70](https://github.com/soc221b/browser-find/commit/2b25e70f9f2c78ff6ac7f04df4dfec7129264432))


### Bug Fixes

* **deps:** update dependency @floating-ui/dom to v1.6.6 ([#26](https://github.com/soc221b/browser-find/issues/26)) ([98e4e33](https://github.com/soc221b/browser-find/commit/98e4e33fed71b5f7921fac460ff4f05ec3cda6f3))
* **deps:** update dependency @floating-ui/dom to v1.6.7 ([#34](https://github.com/soc221b/browser-find/issues/34)) ([36b1266](https://github.com/soc221b/browser-find/commit/36b12666144239c2995ca06121b4af790b3f9b33))
* **deps:** update dependency tsx to v4.15.6 ([#15](https://github.com/soc221b/browser-find/issues/15)) ([b144661](https://github.com/soc221b/browser-find/commit/b1446611aa5c5afcac29b93d5438f1087f49014e))
* **deps:** update dependency tsx to v4.15.7 ([#23](https://github.com/soc221b/browser-find/issues/23)) ([4e77ff2](https://github.com/soc221b/browser-find/commit/4e77ff205ec6bbd9c7203fed6019385ac5e1d900))
* **deps:** update dependency tsx to v4.15.8 ([#30](https://github.com/soc221b/browser-find/issues/30)) ([a31e235](https://github.com/soc221b/browser-find/commit/a31e235e4330c0868e60dd8ba71a0d57aac222ec))
* **deps:** update dependency tsx to v4.15.9 ([#31](https://github.com/soc221b/browser-find/issues/31)) ([9b5285c](https://github.com/soc221b/browser-find/commit/9b5285c90476d86c9c28f98c365f40a1ec3241bd))
* **deps:** update dependency tsx to v4.16.0 ([#32](https://github.com/soc221b/browser-find/issues/32)) ([6f2eaa2](https://github.com/soc221b/browser-find/commit/6f2eaa2d52d0640e8e323827e556599b5fefea6e))
* **deps:** update dependency tsx to v4.16.1 ([#38](https://github.com/soc221b/browser-find/issues/38)) ([53bdfb3](https://github.com/soc221b/browser-find/commit/53bdfb37be0c5d89afca079a160a6318abfb160e))
* **deps:** update dependency tsx to v4.16.2 ([#39](https://github.com/soc221b/browser-find/issues/39)) ([dd1734d](https://github.com/soc221b/browser-find/commit/dd1734deab4941ade229c6aecc5e7b0f378365be))
* **deps:** update dependency webextension-polyfill to ^0.12.0 ([#11](https://github.com/soc221b/browser-find/issues/11)) ([786827a](https://github.com/soc221b/browser-find/commit/786827a21d788a629ec7c00700b272acdb80c945))
* **deps:** update dependency zustand to v4.5.3 ([#28](https://github.com/soc221b/browser-find/issues/28)) ([352cb56](https://github.com/soc221b/browser-find/commit/352cb561c3c8838f507f1497469cfb7d697fb6e2))
* **deps:** update dependency zustand to v4.5.4 ([#29](https://github.com/soc221b/browser-find/issues/29)) ([6b42fe9](https://github.com/soc221b/browser-find/commit/6b42fe931bea9bb580741a291a9a7cf4cbf2527c))
